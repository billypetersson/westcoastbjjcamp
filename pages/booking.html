<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bokning - West Coast BJJ Camp</title>
    <meta name="description" content="Boka din plats till West Coast BJJ Camp i Str√∂mstad. Enkelt online-formul√§r f√∂r snabb registrering.">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <a href="../index.html">
                        <img src="../images/westcoastlogo.webp" alt="West Coast BJJ Camp Logo" class="logo-img">
                        <h1>West Coast BJJ Camp</h1>
                    </a>
                </div>
                <div class="nav-menu" id="nav-menu">
                    <a href="../index.html" class="nav-link">Hem</a>
                    <a href="instructors.html" class="nav-link">Instrukt√∂rer</a>
                    <a href="pricing.html" class="nav-link">Priser</a>
                    <a href="schedule.html" class="nav-link">Schema</a>
                    <a href="gallery.html" class="nav-link">Galleri</a>
                    <a href="booking.html" class="nav-link active">Bokning</a>
                    <a href="faq.html" class="nav-link">FAQ</a>
                    <a href="about.html" class="nav-link">Om oss</a>
                </div>
                <div class="nav-toggle" id="nav-toggle">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h1>Boka din plats</h1>
                <p>Registrera dig f√∂r West Coast BJJ Camp 2024 i Str√∂mstad. Begr√§nsat antal platser - s√§kra din plats idag!</p>
            </div>
        </section>

        <section class="content-section">
            <div class="container">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: start;">
                    <div>
                        <h2>Registreringsformul√§r</h2>
                        <form id="booking-form" class="booking-form">
                            <div class="form-group">
                                <label for="fullName" class="form-label">Fullst√§ndigt namn *</label>
                                <input type="text" id="fullName" name="fullName" class="form-input" required>
                            </div>

                            <div class="form-group">
                                <label for="email" class="form-label">E-postadress *</label>
                                <input type="email" id="email" name="email" class="form-input" required>
                            </div>

                            <div class="form-group">
                                <label for="phone" class="form-label">Telefonnummer *</label>
                                <input type="tel" id="phone" name="phone" class="form-input" required>
                            </div>

                            <div class="form-group">
                                <label for="birthDate" class="form-label">F√∂delsedatum *</label>
                                <input type="date" id="birthDate" name="birthDate" class="form-input" required>
                            </div>

                            <div class="form-group">
                                <label for="bjjLevel" class="form-label">BJJ-niv√• *</label>
                                <select id="bjjLevel" name="bjjLevel" class="form-select" required>
                                    <option value="">V√§lj din niv√•</option>
                                    <option value="beginner">Nyb√∂rjare (0-6 m√•nader)</option>
                                    <option value="white-belt">Vitt b√§lte</option>
                                    <option value="blue-belt">Bl√•tt b√§lte</option>
                                    <option value="purple-belt">Lila b√§lte</option>
                                    <option value="brown-belt">Brunt b√§lte</option>
                                    <option value="black-belt">Svart b√§lte</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="club" class="form-label">Nuvarande klubb/academy</label>
                                <input type="text" id="club" name="club" class="form-input" placeholder="T.ex. Stockholm BJJ">
                            </div>

                            <div class="form-group">
                                <label for="package" class="form-label">V√§lj paket *</label>
                                <select id="package" name="package" class="form-select" required>
                                    <option value="">V√§lj paket</option>
                                    <option value="day-pass-friday">Dagspass - Fredag (450 SEK)</option>
                                    <option value="day-pass-saturday">Dagspass - L√∂rdag (450 SEK)</option>
                                    <option value="day-pass-sunday">Dagspass - S√∂ndag (450 SEK)</option>
                                    <option value="basic-package">Baspaket - Alla 3 dagar (1,200 SEK)</option>
                                    <option value="full-package">Fullt paket - Med boende & mat (2,950 SEK)</option>
                                </select>
                            </div>

                            <div class="form-group" id="room-preference" style="display: none;">
                                <label for="roomType" class="form-label">Rumstyp</label>
                                <select id="roomType" name="roomType" class="form-select">
                                    <option value="shared">Delat rum (inkluderat)</option>
                                    <option value="private">Privat rum (+800 SEK)</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="tshirtSize" class="form-label">T-shirt storlek</label>
                                <select id="tshirtSize" name="tshirtSize" class="form-select">
                                    <option value="">V√§lj storlek</option>
                                    <option value="XS">XS</option>
                                    <option value="S">S</option>
                                    <option value="M">M</option>
                                    <option value="L">L</option>
                                    <option value="XL">XL</option>
                                    <option value="XXL">XXL</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="dietaryRestrictions" class="form-label">Specialkost/Allergier</label>
                                <textarea id="dietaryRestrictions" name="dietaryRestrictions" class="form-textarea" placeholder="Beskriv eventuella allergier eller specialkost..."></textarea>
                            </div>

                            <div class="form-group">
                                <label for="emergencyContact" class="form-label">N√∂dkontakt (namn & telefon) *</label>
                                <input type="text" id="emergencyContact" name="emergencyContact" class="form-input" placeholder="T.ex. Anna Andersson - 070-123 45 67" required>
                            </div>

                            <div class="form-group">
                                <label for="discountCode" class="form-label">Rabattkod</label>
                                <input type="text" id="discountCode" name="discountCode" class="form-input" placeholder="T.ex. EARLY2024">
                            </div>

                            <div class="form-group">
                                <label for="additionalInfo" class="form-label">√ñvrig information</label>
                                <textarea id="additionalInfo" name="additionalInfo" class="form-textarea" placeholder="√Ñr det n√•got s√§rskilt vi b√∂r veta? F√∂rv√§ntningar, m√•l, fr√•gor..."></textarea>
                            </div>

                            <div class="form-group">
                                <label class="form-label">
                                    <input type="checkbox" id="terms" name="terms" required style="margin-right: 0.5rem;">
                                    Jag accepterar <a href="#" style="color: var(--primary-color);">villkoren</a> och <a href="#" style="color: var(--primary-color);">integritetspolicyn</a> *
                                </label>
                            </div>

                            <div class="form-group">
                                <label class="form-label">
                                    <input type="checkbox" id="newsletter" name="newsletter" style="margin-right: 0.5rem;">
                                    Jag vill f√• nyhetsbrev om framtida camp och BJJ-events
                                </label>
                            </div>

                            <button type="button" id="complete-booking-btn" class="btn btn-primary btn-large" style="width: 100%;">
                                Slutf√∂r bokning ‚Üí
                            </button>
                            <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: var(--text-light);">
                                Du kommer att omdirigeras till v√•rt s√§kra bokningsformul√§r
                            </p>
                        </form>
                    </div>

                    <div>
                        <div class="info-card" style="position: sticky; top: 90px;">
                            <h3>üìã Bokningsinfo</h3>
                            <div id="booking-summary">
                                <p><strong>Valt paket:</strong> <span id="selected-package">Inget valt</span></p>
                                <p><strong>Pris:</strong> <span id="package-price">0 SEK</span></p>
                                <p><strong>Till√§gg:</strong> <span id="extra-costs">0 SEK</span></p>
                                <hr style="margin: 1rem 0; border: 1px solid var(--border-color);">
                                <p><strong>Totalt:</strong> <span id="total-price" style="font-size: 1.2rem; color: var(--primary-color);">0 SEK</span></p>
                            </div>

                            <div style="margin-top: 2rem;">
                                <h4>üí≥ Betalning</h4>
                                <p>Efter att du skickat registreringen f√•r du en bekr√§ftelse via e-post med betalningsinstruktioner.</p>
                                <p><strong>Accepterade betalmetoder:</strong></p>
                                <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
                                    <li>Swish</li>
                                    <li>Bank√∂verf√∂ring</li>
                                    <li>Kortbetalning</li>
                                </ul>
                            </div>

                            <div style="margin-top: 2rem;">
                                <h4>üìÖ Viktiga datum</h4>
                                <p><strong>Camp:</strong> 12-14 Juli 2024</p>
                                <p><strong>Sista anm√§lan:</strong> 1 Juli 2024</p>
                                <p><strong>Avbokning:</strong> Fram till 28 Juni</p>
                            </div>

                            <div style="margin-top: 2rem;">
                                <h4>üìû Beh√∂ver du hj√§lp?</h4>
                                <p>Kontakta oss:</p>
                                <p>üìß info@westcoastbjjcamp.se</p>
                                <p>üì± +46 72 294 93 39</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="content-section">
            <div class="container">
                <h2 style="text-align: center; margin-bottom: 2rem;">Vad h√§nder efter bokningen?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">‚úâÔ∏è</div>
                        <h3>1. Bekr√§ftelse</h3>
                        <p>Du f√•r en bekr√§ftelse via e-post inom 24 timmar med all viktig information och betalningsinstruktioner.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üí≥</div>
                        <h3>2. Betalning</h3>
                        <p>Betala enligt instruktionerna i bekr√§ftelsen. Din plats √§r reserverad i 7 dagar efter registrering.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üì¶</div>
                        <h3>3. V√§lkomstpaket</h3>
                        <p>2 veckor f√∂re campen f√•r du ett v√§lkomstpaket med detaljerad information och packlista.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <h3>4. Camp-dag!</h3>
                        <p>Ankom till Str√∂mstad och njut av tre fantastiska dagar med BJJ-tr√§ning vid v√§stkusten!</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>West Coast BJJ Camp</h3>
                    <p>Brazilian Jiu-Jitsu tr√§ning vid Sveriges v√§stkust</p>
                </div>
                <div class="footer-section">
                    <h4>Kontakt</h4>
                    <p>üìß info@westcoastbjjcamp.se</p>
                    <p>üì± +46 72 294 93 39</p>
                </div>
                <div class="footer-section">
                    <h4>Snabbl√§nkar</h4>
                    <a href="booking.html">Bokning</a>
                    <a href="pricing.html">Priser</a>
                    <a href="faq.html">FAQ</a>
                    <a href="about.html">Om oss</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 West Coast BJJ Camp. Alla r√§ttigheter f√∂rbeh√•llna.</p>
            </div>
        </div>
    </footer>

    <script src="../js/script.js"></script>
    <script>
        // Google Forms Integration
        document.addEventListener('DOMContentLoaded', function() {
            // Complete booking button handler
            document.getElementById('complete-booking-btn').addEventListener('click', function() {
                // Validate required fields first
                const form = document.getElementById('booking-form');
                const requiredFields = form.querySelectorAll('[required]');
                let isValid = true;
                
                requiredFields.forEach(field => {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.borderColor = '#ef4444';
                        field.addEventListener('input', function() {
                            this.style.borderColor = '#e5e7eb';
                        });
                    } else {
                        field.style.borderColor = '#e5e7eb';
                    }
                });
                
                if (!isValid) {
                    showMessage('V√§nligen fyll i alla obligatoriska f√§lt innan du forts√§tter.', 'error');
                    return;
                }
                
                // Collect form data
                const formData = {
                    name: document.getElementById('fullName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    birthDate: document.getElementById('birthDate').value,
                    bjjLevel: document.getElementById('bjjLevel').value,
                    club: document.getElementById('club').value,
                    package: document.getElementById('package').value,
                    roomType: document.getElementById('roomType').value,
                    tshirtSize: document.getElementById('tshirtSize').value,
                    dietaryRestrictions: document.getElementById('dietaryRestrictions').value,
                    emergencyContact: document.getElementById('emergencyContact').value,
                    discountCode: document.getElementById('discountCode').value,
                    additionalInfo: document.getElementById('additionalInfo').value,
                    terms: document.getElementById('terms').checked,
                    newsletter: document.getElementById('newsletter').checked
                };
                
                // Create Google Forms URL with pre-filled data
                // You'll need to replace 'YOUR_GOOGLE_FORM_ID' with your actual form ID
                const googleFormUrl = createGoogleFormUrl(formData);
                
                // Show confirmation and redirect
                showBookingConfirmation(googleFormUrl);
            });
        });
        
        function createGoogleFormUrl(data) {
            // This will be your Google Form URL with pre-filled parameters
            // Format: https://docs.google.com/forms/d/YOUR_FORM_ID/viewform?usp=pp_url&entry.XXXXX=value
            
            // For now, return a placeholder - you'll need to update this with your actual Google Form
            const baseUrl = 'https://docs.google.com/forms/d/YOUR_GOOGLE_FORM_ID/viewform';
            
            // Example pre-filled parameters (you'll get these from Google Forms)
            const params = new URLSearchParams({
                'usp': 'pp_url',
                // Add your actual entry IDs here when you create the Google Form
                // 'entry.123456789': data.name,
                // 'entry.987654321': data.email,
                // etc.
            });
            
            return `${baseUrl}?${params.toString()}`;
        }
        
        function showBookingConfirmation(googleFormUrl) {
            // Create modal overlay
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 2000;
                animation: fadeIn 0.3s ease;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: white;
                    border-radius: 12px;
                    padding: 2rem;
                    max-width: 500px;
                    margin: 1rem;
                    text-align: center;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                ">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">‚úÖ</div>
                    <h2 style="color: var(--primary-color); margin-bottom: 1rem;">N√§stan klar!</h2>
                    <p style="margin-bottom: 2rem; color: var(--text-light);">
                        Dina uppgifter √§r kontrollerade. Klicka nedan f√∂r att slutf√∂ra din bokning 
                        via v√•rt s√§kra formul√§r.
                    </p>
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="window.open('${googleFormUrl}', '_blank')" 
                                style="
                                    background: var(--primary-color);
                                    color: white;
                                    border: none;
                                    padding: 1rem 2rem;
                                    border-radius: 8px;
                                    font-weight: 500;
                                    cursor: pointer;
                                    transition: all 0.3s ease;
                                "
                                onmouseover="this.style.background='var(--primary-dark)'"
                                onmouseout="this.style.background='var(--primary-color)'">
                            √ñppna bokningsformul√§r
                        </button>
                        <button onclick="document.body.removeChild(this.parentElement.parentElement.parentElement)"
                                style="
                                    background: transparent;
                                    color: var(--text-light);
                                    border: 2px solid var(--border-color);
                                    padding: 1rem 2rem;
                                    border-radius: 8px;
                                    font-weight: 500;
                                    cursor: pointer;
                                ">
                            St√§ng
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Auto-remove modal after 30 seconds
            setTimeout(() => {
                if (document.body.contains(modal)) {
                    document.body.removeChild(modal);
                }
            }, 30000);
        }
        
        // Booking form dynamic pricing
        document.addEventListener('DOMContentLoaded', function() {
            const packageSelect = document.getElementById('package');
            const roomSelect = document.getElementById('roomType');
            const roomPreference = document.getElementById('room-preference');
            
            const selectedPackageSpan = document.getElementById('selected-package');
            const packagePriceSpan = document.getElementById('package-price');
            const extraCostsSpan = document.getElementById('extra-costs');
            const totalPriceSpan = document.getElementById('total-price');
            
            const packagePrices = {
                'day-pass-friday': 450,
                'day-pass-saturday': 450,
                'day-pass-sunday': 450,
                'basic-package': 1200,
                'full-package': 2950
            };
            
            const packageNames = {
                'day-pass-friday': 'Dagspass - Fredag',
                'day-pass-saturday': 'Dagspass - L√∂rdag',
                'day-pass-sunday': 'Dagspass - S√∂ndag',
                'basic-package': 'Baspaket (3 dagar)',
                'full-package': 'Fullt paket (3 dagar)'
            };
            
            function updatePricing() {
                const selectedPackage = packageSelect.value;
                const selectedRoom = roomSelect.value;
                
                if (selectedPackage) {
                    selectedPackageSpan.textContent = packageNames[selectedPackage];
                    packagePriceSpan.textContent = packagePrices[selectedPackage] + ' SEK';
                    
                    // Show room preference for full package
                    if (selectedPackage === 'full-package') {
                        roomPreference.style.display = 'block';
                    } else {
                        roomPreference.style.display = 'none';
                        roomSelect.value = 'shared';
                    }
                    
                    // Calculate extras
                    let extras = 0;
                    if (selectedRoom === 'private' && selectedPackage === 'full-package') {
                        extras += 800;
                    }
                    
                    extraCostsSpan.textContent = extras + ' SEK';
                    totalPriceSpan.textContent = (packagePrices[selectedPackage] + extras) + ' SEK';
                } else {
                    selectedPackageSpan.textContent = 'Inget valt';
                    packagePriceSpan.textContent = '0 SEK';
                    extraCostsSpan.textContent = '0 SEK';
                    totalPriceSpan.textContent = '0 SEK';
                    roomPreference.style.display = 'none';
                }
            }
            
            packageSelect.addEventListener('change', updatePricing);
            roomSelect.addEventListener('change', updatePricing);
            
            // Initialize
            updatePricing();
        });
    </script>
</body>
</html>